---
- name: 强制删除 ceiling 组主机上 Raw_Data 目录下的所有文件
  hosts: ceiling
  become: true
  vars:
    # 将此处替换为你的实际绝对路径
    raw_data_path: "/home/pi/Techtile_Channel_Measurement/Raw_Data"

  tasks:
    - name: 检查 Raw_Data 目录是否存在
      stat:
        path: "{{ raw_data_path }}"
      register: raw_data_stat

    - name: 强制删除 Raw_Data 目录下所有文件
      shell: rm -rf "{{ raw_data_path }}/*"
      args:
        executable: /bin/bash
        warn: false
      when: raw_data_stat.stat.exists

    - name: （可选）输出删除结果
      debug:
        msg: "已强制删除 {{ raw_data_path }} 下的所有文件。"
      when: raw_data_stat.stat.exists
